迭代器是一种特殊对象，它具有为迭代过程设计的专有接口，如下：  
```
function createIterator(items){
	var i = 0;
	return {
		next(){
			var done = (i >= items.length);
			var value = !done ? items[i++]:undefined;
			return {
				 done,
				 value
			};
		}
	};
}
var iterator = createIterator([1,2,3]);
console.log(iterator.next());           // "{ value: 1, done: false }"
console.log(iterator.next());           // "{ value: 2, done: false }"
console.log(iterator.next());           // "{ value: 3, done: false }"
console.log(iterator.next());           // "{ value: undefined, done: true }"

// for all further calls
console.log(iterator.next());           // "{ value: undefined, done: true }"
//
```
生成器是返回迭代器的函数，通过function关键字后的星号(*)来表示，函数中会用到新的关键字yield。
```
// generator
function *createIterator() {
    yield 1;
    yield 2;
    yield 3;
}

// generators are called like regular functions but return an iterator
let iterator = createIterator();

console.log(iterator.next().value);     // 1
console.log(iterator.next().value);     // 2
console.log(iterator.next().value);     // 3
```
  __note__  
  * yield 关键字只能在*号函数内使用很return关键字一样，两者都不能穿透函数边界。
  * 不能用箭头函数创建生成器

具有Symbol.iterator属性的对象都拥有迭代器，这意味着这个对象可以使用for-of来遍历
```
let values = [1, 2, 3];
let iterator = values[Symbol.iterator]();

console.log(iterator.next());           // "{ value: 1, done: false }"
console.log(iterator.next());           // "{ value: 2, done: false }"
console.log(iterator.next());           // "{ value: 3, done: false }"
console.log(iterator.next());           // "{ value: undefined, done: true }"
```
开发者自定义对象的属性通常是不可遍历的，但是如果给Symbol.iterator添加一个生成器，就可以将其变未可迭代对象属性。
```
let collection = {
    items: [],
    *[Symbol.iterator]() {
        for (let item of this.items) {
            yield item;
        }
    }

};

collection.items.push(1);
collection.items.push(2);
collection.items.push(3);

for (let x of collection) {
    console.log(x);
}
```
#### 内置迭代器

* entries() 返回一个迭代器，其值为多个键值对。  
* values()返回一个迭代器，其值为集合的值。
* keys()返回一个迭代器，其值为集合中所有的键名
在for-of循环中，如果没有显示指定迭代器类型就使用默认迭代器。在数组和Set集合默值是调用values()返回的值，Map集合迭代器为entries()返回的值。
```
let colors = [ "red", "green", "blue" ];
let tracking = new Set([1234, 5678, 9012]);
let data = new Map();

data.set("title", "Understanding ECMAScript 6");
data.set("format", "print");

// same as using colors.values()
for (let value of colors) {
    console.log(value);
}

// same as using tracking.values()
for (let num of tracking) {
    console.log(num);
}

// same as using data.entries()
for (let entry of data) {
    console.log(entry);
}
```

在map对象可以使用解构来遍历
```
var data = new Map();
data.set('title', 'Understanding ECMAScript');
data.set("format","print");
for(let [key, value] of)
```
扩展运算符...可以作用于任何可迭代对象中
```
let smallNumbers = [1, 2, 3],
    bigNumbers = [100, 101, 102],
    allNumbers = [0, ...smallNumbers, ...bigNumbers];

console.log(allNumbers.length);     // 7
console.log(allNumbers);    // [0, 1, 2, 3, 100, 101, 102]
```
